{"id":"TabzBeads-070","title":"Create backend plugin","description":"# Create Backend Plugin (LOCAL)\n\nCreate at `./my-plugins/plugins/backend/` (local copy).\n\nNOTE: backend-development already exists! Check existing structure first.\n\n## Existing Plugins in my-plugins/plugins/backend/\n- backend-development/ (already exists)\n- better-auth/\n- databases/\n- devops/\n- docker-mcp/\n\n## Decision\nReview existing backend-development plugin. May just need:\n1. Add agent with progressive disclosure\n2. Update skills if needed\n\n## If Changes Needed\n```\nmy-plugins/plugins/backend/backend-core/\n├── plugin.json\n├── agents/\n│   └── backend-expert.md        # ONE agent with progressive disclosure\n└── skills/\n    └── (reference existing skills)\n```","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T18:23:50.372016513-05:00","created_by":"marci","updated_at":"2026-01-09T19:17:38.884036984-05:00","closed_at":"2026-01-09T19:17:38.884036984-05:00","close_reason":"Created backend-expert agent at my-plugins/plugins/backend/backend-development/agents/backend-expert.md. Agent provides progressive disclosure by knowing high-level patterns and invoking specific skills (backend-development, databases, better-auth, devops) when detailed knowledge is needed."}
{"id":"TabzBeads-0un","title":"Create tabz plugin with tabz-manager and tabz-artist agents","description":"Move browser automation agents to their own plugin:\n- tabz-manager.md (browser automation expert)\n- tabz-artist.md (visual assets via DALL-E/Sora)\n- Related skills (tabz-mcp, etc.)\n\nThis allows users to disable browser automation if not using TabzChrome.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T18:07:10.261405787-05:00","created_by":"marci","updated_at":"2026-01-09T18:26:27.217267634-05:00","closed_at":"2026-01-09T18:26:27.217267634-05:00","close_reason":"Superseded by new structure - one marketplace with multiple plugins (see TabzBeads-mft)"}
{"id":"TabzBeads-10w","title":"Create /conductor:bd-plan skill (backlog preparation)","description":"# bd-plan - Backlog Preparation\n\nPrepare issues before working on them.\n\n## Flow\n\n```\n/conductor:bd-plan\n  │\n  ├── AskUserQuestion: \"What planning activity?\"\n  │   ├── Refine backlog (analyze, prioritize, organize waves)\n  │   ├── Enhance prompts (Haiku explorers via pmux)\n  │   ├── Match skills (persist to issue notes)\n  │   └── Review ready (show issues ready to work)\n  │\n  ├── If \"Refine backlog\":\n  │   ├── bd stats, bd ready, bd blocked\n  │   ├── Identify parallelizable groups\n  │   ├── Suggest priority adjustments\n  │   └── Output wave plan\n  │\n  ├── If \"Enhance prompts\":\n  │   ├── AskUserQuestion: which issues?\n  │   ├── Spawn Haiku explorers via pmux (cheap)\n  │   ├── Explorers find: files, skills, approach\n  │   └── Store prepared.* fields in issue notes\n  │\n  ├── If \"Match skills\":\n  │   ├── AskUserQuestion: which issues?\n  │   ├── Run match-skills.sh --verify\n  │   └── Persist skills to issue notes\n  │\n  └── If \"Review ready\":\n      └── bd ready with details\n```\n\n## Key Points\n\n- **Preparation phase** - Before bd-work or bd-conduct\n- **Cheap exploration** - Haiku (20x cheaper than Opus)\n- **Persist results** - Skills/prompts stored in beads notes\n- **Optional** - Can skip straight to bd-work if issue is simple","notes":"\ncompleted_at: 2026-01-09T18:45:33-05:00\ncommit: 5c9597f","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-09T18:34:21.049840087-05:00","created_by":"marci","updated_at":"2026-01-09T18:45:37.693742591-05:00","closed_at":"2026-01-09T18:45:37.693742591-05:00","close_reason":"Implemented /conductor:bd-plan skill with 4 planning activities"}
{"id":"TabzBeads-1fm","title":"Audit and update TabzBeads plugin documentation","description":"After reorganization is complete, audit all TabzBeads documentation:\n\n1. Check all skills have accurate SKILL.md descriptions\n2. Verify plugin.json descriptions match actual functionality  \n3. Update any cross-references between skills/commands\n4. Ensure marketplace.json descriptions are current\n5. Check references/ folders have up-to-date content","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T18:27:39.579748303-05:00","created_by":"marci","updated_at":"2026-01-11T18:51:11.3497807-05:00","closed_at":"2026-01-11T18:51:11.3497807-05:00","close_reason":"Documentation updated for conductor plugin reorganization","labels":["conductor docs"],"dependencies":[{"issue_id":"TabzBeads-1fm","depends_on_id":"TabzBeads-3ug","type":"blocks","created_at":"2026-01-11T18:27:49.649457783-05:00","created_by":"marci"}]}
{"id":"TabzBeads-1ml","title":"Change skill triggers from slash commands to keyword phrases","description":"Update match-skills.sh to output keyword phrases instead of /plugin:skill commands. The skill-eval hook already tells Claude to evaluate and activate relevant skills - keywords just help identification. This makes prompts more natural and works WITH the hook instead of duplicating its job.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T00:27:31.119148091-05:00","created_by":"marci","updated_at":"2026-01-11T00:32:02.209089262-05:00","closed_at":"2026-01-11T00:32:02.209089262-05:00","close_reason":"Implemented keyword-based skill triggers that work with skill-eval hook"}
{"id":"TabzBeads-1of","title":"Auto-skip epics and gate issues in bd-swarm-auto","description":"## Problem\nbd-swarm-auto includes all ready issues, but epics (container issues) and gates (require user approval) shouldn't be auto-worked.\n\n## Solution\nFilter issue selection:\n\n```bash\n# Current\nbd ready --json | jq -r '.[].id'\n\n# Fixed\nbd ready --json | jq -r '\n  .[] | \n  select(.type \\!= \"epic\") |\n  select(.title | test(\"GATE\"; \"i\") | not) |\n  .id\n'\n```\n\n## Implementation\n- Update bd-swarm-auto SKILL.md\n- Add issue type filter  \n- Add title pattern filter for GATE\n- Optionally: label-based exclusion (label:no-auto)\n\n## Alternative\nAdd --auto-eligible flag to bd ready that excludes these automatically","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T20:04:08.496772011-05:00","created_by":"marci","updated_at":"2026-01-10T20:08:22.763444713-05:00","closed_at":"2026-01-10T20:08:22.763444713-05:00","close_reason":"Implemented jq filter to skip epics and gate issues in bd-swarm-auto"}
{"id":"TabzBeads-1wl","title":"Create tabz plugin with spawning/browser skills","description":"Create ~/plugins/my-plugins/tabz/ marketplace.\n\n## Structure\n```\ntabz/\n├── marketplace.json\n└── plugins/\n    └── tabz-core/\n        ├── .claude-plugin/plugin.json\n        ├── agents/\n        │   └── tabz-expert.md           # Browser \u0026 spawning expert\n        └── skills/\n            ├── spawn-terminal/SKILL.md   # TabzChrome /api/spawn\n            ├── send-keys/SKILL.md        # tmux send-keys wrapper\n            ├── screenshot/SKILL.md       # tabz_screenshot MCP\n            ├── browser-control/SKILL.md  # click, fill, navigate\n            └── mcp-discovery/SKILL.md    # List available tabz_* tools\n```\n\n## Skills to Extract from Conductor\n\n- Spawning logic from bd-swarm.md, bd-work.md\n- tmux send-keys patterns\n- TabzChrome API authentication\n- Browser automation from tabz-manager agent\n\n## Agent: tabz-expert\n\nKnows:\n- TabzChrome API (spawn, notify, etc.)\n- tmux session management\n- Browser automation via MCP tools\n- Screenshot/visual capture\n\nConductor will invoke these skills rather than knowing the details.","notes":"conductor_session: ctt-claudula-96900f1e\nworker_session: ctt-tabzbeads-1wl-worker-0e91235e\nstarted_at: 2026-01-10T03:24:20-05:00","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T18:23:22.189183439-05:00","created_by":"marci","updated_at":"2026-01-10T03:29:55.175917339-05:00","closed_at":"2026-01-10T03:29:55.175917339-05:00","close_reason":"Created tabz plugin in my-plugins with: agents/tabz-expert.md, 4 commands (spawn-terminal, browser-control, screenshot, mcp-discovery), tabz-integration skill with references. Includes tab group isolation patterns for multi-worker safety.","dependencies":[{"issue_id":"TabzBeads-1wl","depends_on_id":"TabzBeads-mft","type":"blocks","created_at":"2026-01-09T18:23:33.164487463-05:00","created_by":"marci"},{"issue_id":"TabzBeads-1wl","depends_on_id":"TabzBeads-5mr","type":"blocks","created_at":"2026-01-09T18:26:48.867709889-05:00","created_by":"marci"}]}
{"id":"TabzBeads-2nr","title":"Audit and fix plugin structure across TabzBeads","description":"## Problem\n\nMany skills are not loading in Claude Code due to structural issues. **Audit completed by Opus \u0026 Sonnet - findings aligned.**\n\n## Audit Results (Confirmed)\n\n| Issue | Count | Severity |\n|-------|-------|----------|\n| Nested skills (skills/x/skills/y) | 15 | Critical |\n| Docs double-nested (document-skills/) | 4 | Critical |\n| Orphaned plugin.json in skill dirs | 37 | Medium |\n| Missing skills arrays in marketplace.json | 10 plugins | Medium |\n| **Total SKILL.md files** | 51 | - |\n| **Correctly structured** | 32 (63%) | - |\n\n## Nested Skills to Flatten (19 total)\n\n### tools/ plugin (14 nested)\n\n```\ntools/skills/code-review/skills/review/SKILL.md\ntools/skills/code-review/skills/review-practices/SKILL.md\ntools/skills/code-review/skills/security/SKILL.md\ntools/skills/code-review/skills/silent-failures/SKILL.md\n\ntools/skills/debugging/skills/defense-in-depth/SKILL.md\ntools/skills/debugging/skills/root-cause-tracing/SKILL.md\ntools/skills/debugging/skills/systematic-debugging/SKILL.md\ntools/skills/debugging/skills/verification-before-completion/SKILL.md\n\ntools/skills/problem-solving/skills/collision-zone-thinking/SKILL.md\ntools/skills/problem-solving/skills/inversion-exercise/SKILL.md\ntools/skills/problem-solving/skills/meta-pattern-recognition/SKILL.md\ntools/skills/problem-solving/skills/scale-game/SKILL.md\ntools/skills/problem-solving/skills/simplification-cascades/SKILL.md\ntools/skills/problem-solving/skills/when-stuck/SKILL.md\n```\n\n### specialized/ plugin (1 nested)\n\n```\nspecialized/skills/specialized-tools/skills/mermaidjs-v11/SKILL.md\n```\n\n### docs/ plugin (4 nested)\n\n```\ndocs/skills/document-skills/docx/SKILL.md\ndocs/skills/document-skills/pdf/SKILL.md\ndocs/skills/document-skills/pptx/SKILL.md\ndocs/skills/document-skills/xlsx/SKILL.md\n```\n\n## Fix Tasks\n\n1. [x] Audit codebase structure (Opus + Sonnet)\n2. [ ] Flatten nested skills to `skills/\u003cname\u003e/SKILL.md`\n3. [ ] Remove 37 orphaned plugin.json from skill directories\n4. [ ] Add explicit `skills` arrays to marketplace.json for each plugin\n5. [ ] Verify all skills load after restructuring\n6. [ ] Commit and push\n\n## Commands to Execute\n\n```bash\n# 1. Flatten tools/code-review nested skills\nfor skill in review review-practices security silent-failures; do\n  mv plugins/tools/skills/code-review/skills/$skill plugins/tools/skills/\ndone\nrm -rf plugins/tools/skills/code-review/skills\n\n# 2. Flatten tools/debugging nested skills  \nfor skill in defense-in-depth root-cause-tracing systematic-debugging verification-before-completion; do\n  mv plugins/tools/skills/debugging/skills/$skill plugins/tools/skills/\ndone\nrm -rf plugins/tools/skills/debugging/skills\n\n# 3. Flatten tools/problem-solving nested skills\nfor skill in collision-zone-thinking inversion-exercise meta-pattern-recognition scale-game simplification-cascades when-stuck; do\n  mv plugins/tools/skills/problem-solving/skills/$skill plugins/tools/skills/\ndone\nrm -rf plugins/tools/skills/problem-solving/skills\n\n# 4. Flatten specialized nested skill\nmv plugins/specialized/skills/specialized-tools/skills/mermaidjs-v11 plugins/specialized/skills/\nrm -rf plugins/specialized/skills/specialized-tools\n\n# 5. Flatten docs nested skills\nfor skill in docx pdf pptx xlsx; do\n  mv plugins/docs/skills/document-skills/$skill plugins/docs/skills/\ndone\nrm -rf plugins/docs/skills/document-skills\n\n# 6. Remove orphaned plugin.json files\nfind plugins -path \"*/skills/*/plugin.json\" -delete\n```\n\n## Correct Structure (Target)\n\n```\nplugins/frontend/\n├── plugin.json                    # One per plugin\n└── skills/\n    ├── ui-styling/\n    │   └── SKILL.md              # Direct child of skills/\n    └── web-frameworks/\n        └── SKILL.md\n```","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T16:40:02.41599953-05:00","created_by":"marci","updated_at":"2026-01-10T17:16:43.223948047-05:00","closed_at":"2026-01-10T17:16:43.223948047-05:00","close_reason":"Completed: Flattened 19 nested skills, removed 37 orphaned plugin.json, updated codex audit skill"}
{"id":"TabzBeads-2o0","title":"Show prepared vs unprepared prompt status in bd-plan","description":"## Problem\nThe bd-plan menu shows 'Enhance Prompts' option, but there's no indication of:\n- How many issues already have prepared prompts\n- Which specific issues need enhancement\n\nUser can't tell if they need to run enhancement or if it's already done.\n\n## Solution Options\n\n### Option A: Show counts in menu\n```\nAskUserQuestion options:\n  - 'Enhance Prompts (5 of 10 ready)'\n  - 'Enhance Prompts (all 10 prepared ✓)'\n```\n\n### Option B: Add 'prepared' indicator to bd ready output\n```bash\nbd ready\n# Output:\n# 1. [P1] TabzBeads-abc: Fix thing [✓ prepared]\n# 2. [P2] TabzBeads-def: Add feature [needs prep]\n```\n\n### Option C: Filter in bd ready\n```bash\nbd ready --prepared      # Only show issues with prepared.prompt\nbd ready --unprepared    # Only show issues without prepared.prompt\n```\n\n### Option D: Show in bd-plan summary before menu\n```\n=== Backlog Status ===\nReady: 10 issues\n  - Prepared: 5 (have prepared.prompt in notes)\n  - Unprepared: 5 (need enhancement)\n\nWhat activity?\n```\n\n## Detection Logic\n```bash\n# Check if issue has prepared prompt\nhas_prepared_prompt() {\n  local NOTES=$(bd show \"$1\" --json | jq -r '.[0].notes // \"\"')\n  echo \"$NOTES\" | grep -q 'prepared.prompt'\n}\n\n# Count prepared vs unprepared\nPREPARED=0\nUNPREPARED=0\nfor ID in $(bd ready --json | jq -r '.[].id'); do\n  if has_prepared_prompt \"$ID\"; then\n    ((PREPARED++))\n  else\n    ((UNPREPARED++))\n  fi\ndone\n```\n\n## Files to Update\n- plugins/conductor/commands/bd-plan.md - Add status summary before menu\n- Possibly: beads CLI to support --prepared filter (separate issue?)\n\n## Related\n- prepared.prompt format in match-skills.sh\n- bd-plan 'Enhance Prompts' activity","notes":"completed_at: 2026-01-10T20:34:31-05:00\ncommit: 9ceaa05\ncomplexity: simple (score: 0)\nfiles_changed: 1\nloc_changed: 43","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T20:27:31.720419651-05:00","created_by":"marci","updated_at":"2026-01-10T20:34:32.936903235-05:00","closed_at":"2026-01-10T20:34:32.936903235-05:00","close_reason":"Implemented prepared vs unprepared prompt status display in bd-plan Step 0"}
{"id":"TabzBeads-2s5","title":"Add deprecation notices to bd-work, bd-swarm, bd-swarm-auto","description":"Add deprecation notices pointing to the new commands:\n- bd-work → use /conductor:bd-work\n- bd-swarm → use /conductor:bd-conduct\n- bd-swarm-auto → use /conductor:bd-conduct with Autonomous mode\n\nShow deprecation warning when old commands are invoked.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T17:24:05.270448961-05:00","created_by":"marci","updated_at":"2026-01-09T18:50:29.22201013-05:00","closed_at":"2026-01-09T18:50:29.22201013-05:00","close_reason":"chore: add deprecation notices to legacy bd-* commands","dependencies":[{"issue_id":"TabzBeads-2s5","depends_on_id":"TabzBeads-y4c","type":"blocks","created_at":"2026-01-09T17:24:05.622647788-05:00","created_by":"marci"}]}
{"id":"TabzBeads-32q","title":"Complexity-aware worker pipeline","description":"Conductor gauges task complexity and adapts verification pipeline accordingly.\n\n## Complexity Signals\n- File count changed (1 file = simple, 3+ = complex)\n- New files vs modifications\n- LOC added/removed\n- New exports/APIs introduced\n- Touches existing tests?\n\n## Pipeline by Complexity\n\n| Change Type | Validation | Tests | Review |\n|-------------|------------|-------|--------|\n| Plugin/docs only | plugin-validator | skip | skip |\n| Code (simple) | verify-build | run-tests | quick |\n| Code (complex) | verify-build | run-tests + write-tests | thorough |\n\n## Deliverables\n\n### 1. Complexity Detection\nAdd to worker-done pipeline:\n```bash\n# After DOCS_ONLY detection\nCOMPLEXITY=$(detect_complexity)  # simple | complex\n```\n\n### 2. Test Writing Skill\nNew `/conductor:write-tests` skill:\n- Analyze changed code\n- Generate appropriate tests (unit, integration)\n- Run after implementation, before commit\n- Only for COMPLEXITY=complex\n\n### 3. Code Review Auto-Select\nUpdate `/conductor:code-review` invocation:\n- COMPLEXITY=simple → quick mode\n- COMPLEXITY=complex → thorough mode\n\n## Existing Pattern\nAlready have DOCS_ONLY detection in worker-done.md that uses plugin-validator for markdown-only changes. Extend this pattern.\n\n## Related\n- TabzBeads-gok: user-invocable classification\n- Existing: plugin-validator agent (plugin-dev:plugin-validator)","notes":"completed_at: 2026-01-10T20:11:12-05:00\ncommit: dd59cf9\ncomplexity: simple (score: 2/6)\nfiles_changed: 2\nloc_changed: 163","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T03:52:06.075962807-05:00","created_by":"marci","updated_at":"2026-01-10T20:11:17.594607166-05:00","closed_at":"2026-01-10T20:11:17.594607166-05:00","close_reason":"Implemented complexity-aware worker pipeline with detection scoring and adaptive review mode"}
{"id":"TabzBeads-377","title":"Clean up conductor plugin to be orchestration-only","description":"After moving agents to separate plugins, conductor should only contain:\n\n**Agent:**\n- conductor.md (watcher/spawner)\n\n**Skills (orchestration):**\n- /conductor:plan - backlog analysis and wave planning\n- /conductor:work - spawn and monitor workers\n- /conductor:wave-done - merge, review, cleanup after wave\n- /conductor:worker-done - worker completion pipeline\n\n**Helpers (stay in conductor):**\n- prompt-enhancer.md (helps craft worker prompts)\n- skill-picker.md (skill discovery)\n\n**Remove/move:**\n- tabz-manager, tabz-artist → tabz plugin\n- code-reviewer, silent-failure-hunter → code-reviewer plugin\n- tui-expert → tui-tools plugin\n- docs-updater → docs plugin\n\nDepends on: TabzBeads-0un, TabzBeads-dsy, TabzBeads-6o0, TabzBeads-eky","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T18:07:30.991646175-05:00","created_by":"marci","updated_at":"2026-01-09T18:26:27.252393616-05:00","closed_at":"2026-01-09T18:26:27.252393616-05:00","close_reason":"Superseded by new structure - one marketplace with multiple plugins (see TabzBeads-mft)","dependencies":[{"issue_id":"TabzBeads-377","depends_on_id":"TabzBeads-0un","type":"blocks","created_at":"2026-01-09T18:07:37.805405162-05:00","created_by":"marci"},{"issue_id":"TabzBeads-377","depends_on_id":"TabzBeads-dsy","type":"blocks","created_at":"2026-01-09T18:07:37.918010717-05:00","created_by":"marci"},{"issue_id":"TabzBeads-377","depends_on_id":"TabzBeads-6o0","type":"blocks","created_at":"2026-01-09T18:07:38.032788668-05:00","created_by":"marci"},{"issue_id":"TabzBeads-377","depends_on_id":"TabzBeads-eky","type":"blocks","created_at":"2026-01-09T18:07:38.147947926-05:00","created_by":"marci"}]}
{"id":"TabzBeads-3ug","title":"Update CLAUDE.md after reorganization","description":"Update documentation to reflect new structure\n\n**Changes:**\n1. Update Commands Reference table\n2. Update directory layout example\n3. Verify all /conductor:* invocations are correct\n4. Update any references to moved files","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T16:03:36.268332652-05:00","updated_at":"2026-01-11T18:51:11.3455437-05:00","closed_at":"2026-01-11T18:51:11.3455437-05:00","close_reason":"Documentation updated for conductor plugin reorganization","labels":["conductor","docs"],"dependencies":[{"issue_id":"TabzBeads-3ug","depends_on_id":"TabzBeads-626","type":"blocks","created_at":"2026-01-11T16:05:00.475790564-05:00","created_by":"daemon"}]}
{"id":"TabzBeads-5jn","title":"Integrate pmux for prompt preparation in swarm workflow","description":"## Idea\nInstead of complex lookahead enhancer, leverage existing /tmux:pmux which is already fast at prompt engineering.\n\n## Options\n\n### Option A: Conductor invokes pmux per wave\n```\nWave 1 completes\n  → Conductor: /tmux:pmux for Wave 2 issues\n  → pmux prepares prompts (fast)\n  → Spawn Wave 2 workers\n```\n\n### Option B: pmux as parallel session\n```\nConductor spawns pmux session at start\npmux continuously prepares upcoming issues\nConductor reads prepared prompts from notes\n```\n\n### Option C: Semi-auto mode\n```\nUser runs: /tmux:pmux (multi-select issues)\npmux shows complexity, suggests batching\nUser confirms\npmux hands off to bd-swarm-auto with prepared prompts\n```\n\n## Existing Scripts to Integrate\npmux should use these existing scripts internally:\n- `plugins/conductor/scripts/match-skills.sh`\n  - `--verify 'keywords'` - Match skills from text\n  - `--issue ID` - Get skills for a beads issue\n  - `--persist ID SKILLS` - Store in notes\n  - `--available-full` - List all available skills\n- `plugins/conductor/scripts/discover-skills.sh 'keywords'` - Find skills by keyword\n\n## Benefits\n- Reuses existing tested tool\n- Interactive when wanted, auto when not\n- pmux already handles skill matching, file discovery\n- Scripts provide single source of truth for skill mappings\n\n## Related\n- TabzBeads-tt5: Parallel lookahead enhancer (more complex approach)\n- /tmux:pmux skill\n- plugins/conductor/agents/prompt-enhancer.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T20:04:38.216287597-05:00","created_by":"marci","updated_at":"2026-01-10T20:35:43.095451512-05:00","closed_at":"2026-01-10T20:35:43.095451512-05:00","close_reason":"Implemented: replaced CAPABILITIES.md with match-skills.sh, added batch mode, beads integration, and prepared.* notes output"}
{"id":"TabzBeads-5mr","title":"Initialize my-plugins repo with marketplace.json","description":"Create the base structure for ~/plugins/my-plugins:\n\n```\nmy-plugins/\n├── .claude-plugin/\n│   └── marketplace.json    # Empty initially, plugins added as created\n└── plugins/                # Plugin folders go here\n```\n\n## marketplace.json Template\n\n```json\n{\n  \"version\": \"1.0.0\",\n  \"plugins\": []\n}\n```\n\n## Steps\n\n1. Create directory structure\n2. Initialize git repo\n3. Create marketplace.json\n4. Add to Claude via /plugin add ~/plugins/my-plugins\n\nThis is the foundation - other issues add plugins to this structure.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T18:26:42.713720349-05:00","created_by":"marci","updated_at":"2026-01-10T03:20:19.182863527-05:00","closed_at":"2026-01-10T03:20:19.182863527-05:00","close_reason":"Already complete - my-plugins repo exists at /home/marci/plugins/my-plugins with 43 plugins and fully populated marketplace.json","dependencies":[{"issue_id":"TabzBeads-5mr","depends_on_id":"TabzBeads-mft","type":"blocks","created_at":"2026-01-09T18:26:49.120188597-05:00","created_by":"marci"}]}
{"id":"TabzBeads-5ss","title":"Implement /conductor:refine with Haiku explorers via pmux","description":"Spawn parallel Haiku sessions to explore codebase for each issue. Match skills, find files, draft prompts. Store prepared.* fields in beads notes. Much cheaper than Opus exploration.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T17:24:26.246351231-05:00","created_by":"marci","updated_at":"2026-01-09T18:34:42.704330847-05:00","closed_at":"2026-01-09T18:34:42.704330847-05:00","close_reason":"Merged into TabzBeads-10w (bd-plan includes Haiku exploration)"}
{"id":"TabzBeads-626","title":"Update plugin.json skills array after migration","description":"Update plugins/conductor/plugin.json to reflect new skill structure\n\n**Changes:**\n1. Remove bd-conduct and bd-new-project from skills array\n2. Add new skill directories:\n   - bdc-analyze-transcripts\n   - bdc-run-wave\n   - bdw-verify-build\n   - bdw-run-tests\n   - bdw-commit-changes\n   - bdw-close-issue\n   - bdw-create-followups\n   - bdw-update-docs\n   - bdw-worker-init\n   - bdw-codex-review\n3. Verify all paths are correct","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:03:32.833582144-05:00","updated_at":"2026-01-11T18:51:11.335335285-05:00","closed_at":"2026-01-11T18:51:11.335335285-05:00","close_reason":"Documentation updated for conductor plugin reorganization","labels":["conductor","config"],"dependencies":[{"issue_id":"TabzBeads-626","depends_on_id":"TabzBeads-n5i","type":"blocks","created_at":"2026-01-11T16:04:40.165870258-05:00","created_by":"daemon"},{"issue_id":"TabzBeads-626","depends_on_id":"TabzBeads-no0","type":"blocks","created_at":"2026-01-11T16:04:43.524704541-05:00","created_by":"daemon"},{"issue_id":"TabzBeads-626","depends_on_id":"TabzBeads-ll6","type":"blocks","created_at":"2026-01-11T16:04:46.90631617-05:00","created_by":"daemon"},{"issue_id":"TabzBeads-626","depends_on_id":"TabzBeads-cac","type":"blocks","created_at":"2026-01-11T16:04:50.308295254-05:00","created_by":"daemon"},{"issue_id":"TabzBeads-626","depends_on_id":"TabzBeads-jq8","type":"blocks","created_at":"2026-01-11T16:04:53.735368276-05:00","created_by":"daemon"},{"issue_id":"TabzBeads-626","depends_on_id":"TabzBeads-czz","type":"blocks","created_at":"2026-01-11T16:04:57.121684105-05:00","created_by":"daemon"}]}
{"id":"TabzBeads-6is","title":"Create /conductor:bd-conduct skill (multi-session orchestration)","description":"# bd-conduct - Multi-Session Orchestration\n\nSpawn workers to tackle multiple issues in parallel.\n\n## Flow\n\n```\n/conductor:bd-conduct\n  │\n  ├── AskUserQuestion: \"Here are the unblocked issues:\" [multiSelect]\n  │\n  ├── AskUserQuestion: \"How many terminals?\" \n  │   ├── 2 terminals\n  │   ├── 3 terminals (Recommended)\n  │   └── 4 terminals\n  │\n  ├── AskUserQuestion: \"Mode?\"\n  │   ├── Interactive - You monitor, can intervene\n  │   └── Autonomous - Runs waves until backlog empty\n  │\n  ├── Setup:\n  │   ├── Create worktrees (bd worktree add)\n  │   ├── Spawn workers via /tabz:spawn-terminal\n  │   ├── Send prompts with skill hints\n  │   └── Record worker sessions in beads notes\n  │\n  ├── Monitor:\n  │   ├── Interactive: Poll status, answer questions\n  │   └── Autonomous: Loop waves, /wipe at 75% context\n  │\n  └── Complete (wave-done):\n      ├── Verify all workers done\n      ├── Merge branches\n      ├── Unified code review\n      ├── Cleanup worktrees\n      └── Push to main\n```\n\n## Key Points\n\n- **You are the conductor** - Spawn and monitor workers\n- **Workers follow PRIME.md** - They do bd-work essentially\n- **Uses tabz skills** - /tabz:spawn-terminal, /tabz:send-keys\n- **Wave completion** - Merge, review, cleanup at conductor level\n\n## Dependencies\n\n- Requires tabz plugin for spawning\n- Workers get PRIME.md via beads hooks","notes":"conductor_session: ctt-claudula-4f03de6c\nworker_session: ctt-tabzbeads-6is-worker-2e1f8cdb\nstarted_at: 2026-01-10T13:45:24-05:00\ncompleted_at: 2026-01-10T13:49:58-05:00\ncommit: ec17c83","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-09T18:34:33.891978717-05:00","created_by":"marci","updated_at":"2026-01-10T13:51:23.035233968-05:00","closed_at":"2026-01-10T13:51:23.035233968-05:00","close_reason":"Created bd-conduct skill with interactive AskUserQuestion flow for issue selection, terminal count, and mode selection. Integrates with worktree setup, TabzChrome spawning, and wave-done completion.","dependencies":[{"issue_id":"TabzBeads-6is","depends_on_id":"TabzBeads-1wl","type":"blocks","created_at":"2026-01-09T18:34:42.584328009-05:00","created_by":"marci"}]}
{"id":"TabzBeads-6jp","title":"Add auto-detection guardrails to completion flow","description":"# Completion Guardrails\n\nAuto-detect whether running as standalone (bd-work) or as spawned worker (bd-conduct).\n\n## Detection Logic\n\n```bash\nis_worker_mode() {\n  # Method 1: CONDUCTOR_SESSION env var (set by bd-conduct)\n  [ -n \"$CONDUCTOR_SESSION\" ] \u0026\u0026 return 0\n  \n  # Method 2: Inside git worktree\n  COMMON_DIR=$(git rev-parse --git-common-dir 2\u003e/dev/null)\n  GIT_DIR=$(git rev-parse --git-dir 2\u003e/dev/null)\n  [ \"$COMMON_DIR\" != \"$GIT_DIR\" ] \u0026\u0026 return 0\n  \n  return 1  # Standalone mode\n}\n```\n\n## Behavior by Mode\n\n**Standalone (bd-work):**\n- Full pipeline: verify → tests → review → commit → close → push\n- You control everything\n\n**Worker (spawned by bd-conduct):**\n- Limited pipeline: verify → tests → commit → close → notify\n- NO push (conductor merges)\n- NO code review (conductor reviews after merge)\n- MUST notify conductor\n\n## Guardrail Messages\n\nWorker mode:\n```\n⚠️ WORKER MODE DETECTED\nSkipping code review and push - conductor handles this.\n```\n\nStandalone mode:\n```\n✓ STANDALONE MODE\nRunning full pipeline with code review.\n```\n\n## Integration\n\n- Used by /conductor:worker-done\n- Used by bd-work completion\n- Prevents workers from accidentally pushing","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-09T17:24:05.1529656-05:00","created_by":"marci","updated_at":"2026-01-09T18:45:02.252818334-05:00","closed_at":"2026-01-09T18:45:02.252818334-05:00","close_reason":"Implemented auto-detection guardrails for worker vs standalone mode in worker-done skill","dependencies":[{"issue_id":"TabzBeads-6jp","depends_on_id":"TabzBeads-ng1","type":"blocks","created_at":"2026-01-09T17:24:05.489530392-05:00","created_by":"marci"}]}
{"id":"TabzBeads-6o0","title":"Create tui-tools plugin with tui-expert agent","description":"Move TUI expertise to its own plugin:\n- tui-expert.md (btop, lazygit, lnav, etc.)\n- terminal-tools skill\n\nAllows users to disable if not using TUI tools.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T18:07:21.657370135-05:00","created_by":"marci","updated_at":"2026-01-09T18:26:27.23702305-05:00","closed_at":"2026-01-09T18:26:27.23702305-05:00","close_reason":"Superseded by new structure - one marketplace with multiple plugins (see TabzBeads-mft)"}
{"id":"TabzBeads-7a2","title":"Update setup-worktree.sh to use bd worktree","description":"Replace git worktree commands with bd worktree create/remove. This auto-configures beads database redirect and proper gitignore.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T17:24:16.355984693-05:00","created_by":"marci","updated_at":"2026-01-09T18:44:17.576648703-05:00","closed_at":"2026-01-09T18:44:17.576648703-05:00","close_reason":"Migrated setup-worktree.sh to use bd worktree create instead of git worktree add"}
{"id":"TabzBeads-7lo","title":"Plan: Refactor workflows to use more subagents for reduced context","description":"## Summary\nRefactor bdw-worker-done and bdc-wave-done to delegate steps to specialized subagents, reducing context crowding and enabling parallelism.\n\n## Problem\n- Worker pipeline (bdw-worker-done) has 7+ steps crowding context\n- Conductor pipeline (bdc-wave-done) has 10+ steps crowding context\n- Everything runs sequentially when some steps could parallelize\n- All steps use opus when haiku/sonnet would suffice for many\n\n## Proposed New Agents\n\n### Worker Subagents (cheap, fast)\n| Agent | Model | Purpose |\n|-------|-------|---------|\n| `build-verifier` | haiku | Run build, parse errors, suggest fixes |\n| `test-runner` | haiku | Run tests, analyze failures |\n| `commit-crafter` | haiku | Analyze changes, craft semantic commit |\n| `followup-finder` | haiku | Scan for TODOs, create beads issues |\n\n### Conductor Subagents\n| Agent | Model | Purpose |\n|-------|-------|---------|\n| `merge-coordinator` | sonnet | Merge branches, handle simple conflicts |\n| `wave-summarizer` | haiku | Generate completion summary, stats |\n| `cleanup-agent` | haiku | Kill sessions, remove worktrees |\n| `discovery-reviewer` | haiku | Check worker discoveries, flag missing |\n\n## Refactored Flows\n\n### Worker (bdw-worker-done)\n```\nWorker receives task\n  ├── Does the work (main context)\n  └── Runs /conductor:bdw-worker-done\n        ├── Task(build-verifier) → pass/fail\n        ├── Task(test-runner) → pass/fail  \n        ├── Task(commit-crafter) → commit message\n        ├── Task(followup-finder) → creates beads [parallel]\n        └── Notify conductor\n```\n\n### Conductor (bdc-wave-done)\n```\n/conductor:bdc-wave-done\n  ├── Verify all issues closed (simple check)\n  ├── Task(discovery-reviewer) [parallel]\n  ├── Task(cleanup-agent) - kill sessions\n  ├── Task(merge-coordinator) → merge branches\n  ├── Task(build-verifier) → verify merged code\n  ├── Task(code-reviewer) → unified review\n  ├── Task(tabz-mcp) → visual QA [if UI changes]\n  ├── Push to remote\n  └── Task(wave-summarizer) → completion summary\n```\n\n## Expected Benefits\n| Aspect | Before | After |\n|--------|--------|-------|\n| Worker context | ~10k tokens for pipeline | ~2k tokens (delegates) |\n| Conductor context | ~15k tokens for wave-done | ~3k tokens (delegates) |\n| Parallelism | Sequential | 3-4 agents in parallel |\n| Cost | All opus | Mix of haiku/sonnet/opus |\n| Failure isolation | One fails = all fails | Retry individual steps |\n\n## Implementation Order\n1. `build-verifier` (haiku) - most commonly used\n2. `commit-crafter` (haiku) - always needed  \n3. `merge-coordinator` (sonnet) - complex logic\n4. `wave-summarizer` (haiku) - nice to have\n5. Update bdw-worker-done to use new agents\n6. Update bdc-wave-done to use new agents\n7. Test full workflow\n\n## Questions to Consider\n- Should agents return structured JSON or markdown?\n- How to handle agent failures mid-pipeline?\n- Should some agents be optional (skip if not needed)?\n- Can we reuse build-verifier for both worker and conductor?\n\n## Related\n- Current agents: conductor:code-reviewer, conductor:silent-failure-hunter, conductor:docs-updater\n- Skills: bdw-worker-done, bdc-wave-done","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-11T12:47:07.935856793-05:00","created_by":"marci","updated_at":"2026-01-11T12:47:07.935856793-05:00"}
{"id":"TabzBeads-82v","title":"File overlap detection to prevent merge conflicts","description":"## Problem\nMultiple workers in same wave can touch same files, causing merge conflicts. E.g., 3 workers all modify FileTreeContextMenu.tsx.\n\n## Solution\nDuring issue selection, detect likely file overlap and:\n1. Put overlapping issues in same worker (sequential)\n2. Or put in different waves (temporal separation)\n\n## Detection Methods\n1. **Keyword analysis**: 'file tree' issues likely touch FileTree.tsx\n2. **Skill overlap**: Multiple frontend:ui-styling issues may conflict\n   ```bash\n   # Detect skill overlap using match-skills.sh\n   SKILLS_A=$(scripts/match-skills.sh --issue issue-A)\n   SKILLS_B=$(scripts/match-skills.sh --issue issue-B)\n   # If same skills, higher conflict risk\n   ```\n3. **Explicit paths**: If description mentions specific files (in prepared.files)\n4. **Historical**: Track which files issues actually touched\n\n## Existing Scripts to Leverage\n- `scripts/match-skills.sh --issue ID` - Get skills per issue (skill overlap = conflict risk)\n- `prepared.files` in notes (from bd-plan 'Enhance Prompts') - explicit file predictions\n- `scripts/discover-skills.sh` - Find skill keywords in issue text\n\n## Implementation\n```bash\n# For each candidate wave\nfor ISSUE in $WAVE_CANDIDATES; do\n  # Get predicted files from prepared prompt\n  FILES=$(bd show $ISSUE --json | jq -r '.[0].notes' | grep 'prepared.files')\n  \n  # Get skills for overlap detection\n  SKILLS=$(scripts/match-skills.sh --issue $ISSUE)\n  \n  if has_overlap \"$FILES\" \"$ALREADY_ASSIGNED_FILES\"; then\n    move_to_next_wave \"$ISSUE\"\n  fi\ndone\n```\n\n## Notes\n- This is heuristic, not perfect\n- May be overkill for small backlogs\n- Merge conflict resolution is also an option (just fix when it happens)\n- Could leverage prepared prompts which include 'likely_files'","notes":"\ncompleted_at: 2026-01-10T20:55:55-05:00\ncommit: eb74b62\ncomplexity: complex (score: 3)\nfiles_changed: 2\nloc_changed: 388","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-10T20:04:37.149779958-05:00","created_by":"marci","updated_at":"2026-01-10T20:56:02.48948399-05:00","closed_at":"2026-01-10T20:56:02.48948399-05:00","close_reason":"Implemented file overlap detection with keyword analysis, skill overlap heuristics, and integration into Group Tasks activity"}
{"id":"TabzBeads-880","title":"Sync TabzChrome conductor skills to TabzBeads","description":"# Sync TabzChrome Conductor Skills to TabzBeads\n\n## Problem\n\nTabzChrome has evolved conductor skills with proper structure and references that TabzBeads is missing.\n\n## TabzChrome Skills to Sync\n\n| Skill | Has References |\n|-------|---------------|\n| bd-swarm-auto/ | wave-execution.md, context-recovery.md |\n| code-review/ | - |\n| new-project/ | - |\n| orchestration/ | terminal-management.md |\n| tabz-artist/ | - |\n| tabz-mcp/ | workflows.md |\n| terminal-tools/ | tui-keybindings.md |\n| wave-done/ | - |\n| worker-done/ | example-sessions.md |\n\n## Source\n\n```\n~/projects/TabzChrome/plugins/conductor/skills/\n```\n\n## Destination\n\n```\n~/projects/TabzBeads/plugins/conductor/skills/\n```\n\n## Process\n\n1. Copy skill folders from TabzChrome to TabzBeads\n2. Review and update any TabzChrome-specific references\n3. Ensure frontmatter has correct user-invocable setting\n4. Remove duplicate commands from TabzBeads commands/ folder\n5. Test skills appear correctly in slash menu\n\n## Related\n- TabzBeads-gok: Documentation (completed)\n- TabzBeads-mzz: Fix broken skill structures\n- TabzBeads-yy6: Taxonomy consolidation epic","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T14:49:09.745890166-05:00","created_by":"marci","updated_at":"2026-01-10T18:01:12.698364015-05:00","closed_at":"2026-01-10T18:01:12.698364015-05:00","close_reason":"Synced 9 skills from TabzChrome with references: bd-swarm-auto, code-review, new-project, orchestration, tabz-artist, tabz-mcp, terminal-tools, wave-done, worker-done"}
{"id":"TabzBeads-8xn","title":"Add agent bead creation to worker spawn flow","description":"# Add Agent Bead Tracking to Worker Spawn Flow\n\nTrack spawned workers as agent beads using the beads agent system.\n\n## Beads Agent API (actual commands)\n\n### Create Agent Bead\n```bash\nbd create --type=agent --title=\"Worker: TabzBeads-abc\" --labels=\"conductor:worker\"\n# Returns: TabzBeads-xyz (the agent bead ID)\n```\n\n### State Machine\n```bash\nbd agent state \u003cagent-id\u003e spawning  # Worker starting up\nbd agent state \u003cagent-id\u003e running   # Worker executing\nbd agent state \u003cagent-id\u003e working   # Worker actively on task\nbd agent state \u003cagent-id\u003e done      # Worker completed\nbd agent state \u003cagent-id\u003e stuck     # Worker needs help\n```\n\n### Attach Work to Agent\n```bash\nbd slot set \u003cagent-id\u003e hook \u003cissue-id\u003e  # Agent is working on this issue\nbd slot clear \u003cagent-id\u003e hook           # Detach work when done\n```\n\n### Heartbeats (for monitoring)\n```bash\nbd agent heartbeat \u003cagent-id\u003e  # Update last_activity timestamp\n```\n\n### Query Agent State\n```bash\nbd agent show \u003cagent-id\u003e  # Show agent details\nbd slot show \u003cagent-id\u003e   # Show what agent is working on\n```\n\n## Integration Points\n\n1. **Worker spawn** (bd-swarm-auto):\n   - Create agent bead with `bd create --type=agent`\n   - Set state to `spawning`\n   - Attach issue to hook slot: `bd slot set \u003cagent\u003e hook \u003cissue\u003e`\n   - Set state to `running` when Claude initialized\n\n2. **Worker heartbeat** (optional):\n   - Periodic `bd agent heartbeat` calls\n   - Enables Witness monitoring for stuck/dead detection\n\n3. **Worker completion** (worker-done):\n   - Set state to `done`\n   - Clear hook slot: `bd slot clear \u003cagent\u003e hook`\n   - Close agent bead or set to `idle` for reuse\n\n## Files to Update\n\n- plugins/conductor/skills/bd-swarm-auto/SKILL.md - Add agent creation to spawn flow\n- plugins/conductor/skills/worker-done/SKILL.md - Add agent state updates to completion\n- plugins/conductor/agents/conductor.md - Document agent bead usage","notes":"\ncompleted_at: 2026-01-09T18:58:02-05:00\ncommit: 920c36b","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T17:24:16.469397343-05:00","created_by":"marci","updated_at":"2026-01-09T18:58:15.18725249-05:00","closed_at":"2026-01-09T18:58:15.18725249-05:00","close_reason":"Implemented agent bead tracking in spawn (bd-swarm-auto) and completion (worker-done) flows","dependencies":[{"issue_id":"TabzBeads-8xn","depends_on_id":"TabzBeads-7a2","type":"blocks","created_at":"2026-01-09T17:24:16.884614848-05:00","created_by":"marci"}]}
{"id":"TabzBeads-9b4","title":"Task batching: combine simple issues into single worker","description":"## Problem\n1 issue = 1 worker is wasteful for simple tasks.\n\n## Solution\nAfter complexity estimation (TabzBeads-b62), group issues into optimal batches.\n\n### Batching Logic\n```bash\n# Group simples in threes\nSIMPLE_ISSUES | xargs -n3  → batch-001\n\n# Medium + Simple pairs\nMEDIUM_ISSUE + SIMPLE_ISSUE → batch-002\n\n# Large stays isolated\nLARGE_ISSUE → dedicated worker\n```\n\n### Worker Prompt for Batched Tasks\nUse match-skills.sh to prepare skill-aware prompts for batched tasks:\n```bash\n# Get skills for each issue in batch\nfor ISSUE in $BATCH_ISSUES; do\n  SKILLS=$(scripts/match-skills.sh --issue \"$ISSUE\")\n  # Combine into single prompt\ndone\n```\n\n```markdown\n## Batch: 3 Simple Tasks\n\n### Task 1: issue-abc - Fix button color\n### Task 2: issue-def - Add icon  \n### Task 3: issue-ghi - Fix typo\n\nComplete each sequentially. Commit after each.\n\n## When Done\nRun /conductor:bdw-worker-done issue-abc issue-def issue-ghi\n```\n\n### Implementation\n1. New bd-plan 'Group Tasks' activity\n2. Stores batch_id in issue notes (use match-skills.sh --persist)\n3. bd-swarm-auto reads batch_id to spawn grouped workers\n4. worker-done accepts multiple issue IDs\n\n### Existing Scripts to Use\n- `scripts/match-skills.sh --issue ID` - Get skills per issue\n- `scripts/match-skills.sh --persist ID SKILLS` - Store batch info\n- bd-plan complexity estimation (reads from notes)\n\n## Depends On\n- TabzBeads-b62: Pre-work complexity estimation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T20:03:47.873737353-05:00","created_by":"marci","updated_at":"2026-01-10T20:40:46.475546962-05:00","closed_at":"2026-01-10T20:40:46.475546962-05:00","close_reason":"Implemented task batching feature","dependencies":[{"issue_id":"TabzBeads-9b4","depends_on_id":"TabzBeads-b62","type":"blocks","created_at":"2026-01-10T20:04:45.02888496-05:00","created_by":"marci"}]}
{"id":"TabzBeads-9q7","title":"Fix wave-done: cleanup worktrees BEFORE build verification","description":"## Bug\nNext.js build includes worktree directories in compilation, causing spurious type errors from stale worktree code.\n\n## Current Order (Wrong)\n1. Merge branches\n2. Run build ❌ (includes worktrees)\n3. Cleanup worktrees\n\n## Correct Order\n1. Merge branches\n2. Kill worker sessions\n3. Cleanup worktrees ✅\n4. Run build (clean directory)\n\n## Files to Update\n- commands/bdc-wave-done.md\n- skills/wave-done/SKILL.md\n- scripts/completion-pipeline.sh (if exists)\n\n## Reproduction\n1. Run bd-swarm-auto with multiple workers\n2. Wave completes, merge succeeds\n3. Build fails with type errors pointing to worktree paths\n4. Remove worktrees manually\n5. Build succeeds\n\n## Priority\nP1 - This caused a build failure in production swarm run","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-10T20:03:48.894633486-05:00","created_by":"marci","updated_at":"2026-01-10T20:08:56.078150649-05:00","closed_at":"2026-01-10T20:08:56.078150649-05:00","close_reason":"Fixed wave-done ordering: cleanup worktrees now happens before build verification"}
{"id":"TabzBeads-a98","title":"Use load-buffer/paste-buffer for reliable tmux prompt sending","description":"## Problem\nWhen sending long multi-line prompts via `tmux send-keys -l`, special characters and newlines can trigger copy mode or corrupt the terminal state. Seen as '(jump to backward)' in status bar.\n\n## Solution\nUse `load-buffer` + `paste-buffer` pattern instead of `send-keys -l` for multi-line content:\n\n```bash\n# Old (fragile)\ntmux send-keys -t \"$SESSION\" -l \"$PROMPT\"\n\n# New (reliable)\nprintf '%s' \"$PROMPT\" | tmux load-buffer -\ntmux paste-buffer -t \"$SESSION\"\ntmux send-keys -t \"$SESSION\" C-m\n```\n\n## Files to Update\n- plugins/conductor/agents/conductor.md\n- plugins/conductor/skills/orchestration/SKILL.md\n- plugins/conductor/skills/terminal-tools/SKILL.md\n- plugins/conductor/commands/bd-work.md\n- .beads/PRIME.md (add terminal tools reference)\n\n## Note\nShort one-line notifications can still use `send-keys -l` - this is for multi-line prompts.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-10T23:43:26.55545306-05:00","created_by":"marci","updated_at":"2026-01-10T23:45:13.027334149-05:00","closed_at":"2026-01-10T23:45:13.027334149-05:00","close_reason":"Implemented load-buffer pattern in 4 files"}
{"id":"TabzBeads-b62","title":"Pre-work complexity estimation for task batching","description":"## Problem  \nCurrent workflow spawns 1 worker per issue regardless of complexity. Simple tasks (typo fix, icon change) waste a whole worker.\n\n## Solution\nEstimate complexity BEFORE spawning workers to enable intelligent batching.\n\n### Complexity Heuristics\n| Signal | Simple (S) | Medium (M) | Large (L) |\n|--------|------------|------------|-----------|\n| Files | 1-2 | 3-5 | 6+ |\n| Keywords | 'fix', 'typo', 'icon' | 'implement', 'add' | 'consolidate', 'audit' |\n| Type | bug | feature | epic subtask |\n| Estimate | \u003c20 min | 20-45 min | 45+ min |\n\n### Storage\n```yaml\n# In beads notes\ncomplexity: S\nestimated_minutes: 15\nlikely_files: [Button.tsx]\ncan_batch_with: [similar-issues]\n```\n\n## Batching Rules\n- 3 Simple → 1 worker\n- 1 Medium + 1 Simple → 1 worker  \n- 1 Large → 1 worker (isolated)\n- Same-file issues → same worker (avoid merge conflicts)\n\n## New bd-plan Activity\nAdd 'Estimate Complexity' activity that:\n1. Analyzes each ready issue\n2. Assigns S/M/L complexity\n3. Stores in notes for swarm to read\n\n## Related\n- TabzBeads-32q: Post-work complexity (for verification pipeline)\n- This issue: Pre-work complexity (for batching)","notes":"\ncompleted_at: 2026-01-10T20:09:46-05:00\ncommit: c016142","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T20:03:30.013108182-05:00","created_by":"marci","updated_at":"2026-01-10T20:09:59.984269628-05:00","closed_at":"2026-01-10T20:09:59.984269628-05:00","close_reason":"Added complexity estimation activity to bd-plan with S/M/L heuristics"}
{"id":"TabzBeads-cac","title":"Convert bdc-run-wave command to skill","description":"Move commands/bdc-run-wave.md to skills/bdc-run-wave/SKILL.md\n\n**Steps:**\n1. Create skills/bdc-run-wave/ directory\n2. Move and rename .md file to SKILL.md\n3. Update frontmatter: add user-invocable: false\n4. Remove --pour, --dry-run, --var flags, convert to prompt parameters\n5. Update plugin.json skills array","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:03:22.523176249-05:00","updated_at":"2026-01-11T18:38:52.250889497-05:00","closed_at":"2026-01-11T18:38:52.250889497-05:00","close_reason":"Converted bdc-run-wave from command to skill with user-invocable: false","labels":["command-to-skill","conductor"]}
{"id":"TabzBeads-clp","title":"Store prepared prompts in beads issue notes","description":"# Store Prepared Prompts in Beads Issue Notes\n\nAfter backlog refinement (/conductor:bd-plan), issues should have pre-baked prompts stored in notes. Workers read the prompt from notes instead of exploring.\n\n## Beads Notes API\n\n```bash\n# Store prepared prompt\nbd update \u003cissue-id\u003e --notes \"prepared.prompt: |\n  Fix beads issue \u003cid\u003e: \\\"\u003ctitle\u003e\\\"\n  \n  ## Skills to Load\n  - /ui-styling:ui-styling\n  \n  ## Context\n  ...\n  \n  ## When Done\n  Run: /conductor:worker-done \u003cid\u003e\nprepared.skills: ui-styling,backend-development\nprepared.files: src/components/Button.tsx,src/lib/utils.ts\"\n\n# Read notes\nbd show \u003cissue-id\u003e --json | jq -r \".[0].notes\"\n```\n\n## Schema (YAML in notes field)\n\n```yaml\nprepared.prompt: |\n  Full worker prompt with all context\nprepared.skills: skill1,skill2\nprepared.files: file1.ts,file2.ts\nprepared.completion: /conductor:worker-done \u003cid\u003e\n```\n\n## Integration\n\n1. **bd-plan \"Enhance Prompts\"**:\n   - Runs Haiku explorers to find files/skills\n   - Stores results in issue notes via `bd update --notes`\n\n2. **bd-swarm-auto spawn**:\n   - Checks for `prepared.prompt` in notes\n   - If present: uses verbatim (no exploration)\n   - If absent: crafts prompt dynamically\n\n## Files to Update\n\n- plugins/conductor/skills/plan/SKILL.md - Add prompt storage to \"Enhance Prompts\" activity\n- plugins/conductor/skills/bd-swarm-auto/SKILL.md - Read prepared.prompt from notes\n- plugins/conductor/scripts/match-skills.sh - Add --persist flag to store in notes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T17:24:26.347416364-05:00","created_by":"marci","updated_at":"2026-01-09T19:14:01.975229822-05:00","closed_at":"2026-01-09T19:14:01.975229822-05:00","close_reason":"Implemented prepared prompt storage in notes - plan stores prepared.skills/files/prompt, bd-swarm-auto reads them","dependencies":[{"issue_id":"TabzBeads-clp","depends_on_id":"TabzBeads-5ss","type":"blocks","created_at":"2026-01-09T17:24:26.653673564-05:00","created_by":"marci"}]}
{"id":"TabzBeads-cta","title":"Create conductor plugin in my-plugins","description":"Create ~/plugins/my-plugins/conductor/ marketplace.\n\n## Note on 'workflow-only'\nUse `user-invocable: false` frontmatter instead of separate plugin. Internal skills (worker-done, wave-done, etc.) won't show in user's slash menu but can still be invoked by other skills/agents.\n\nSee TabzBeads-gok for frontmatter documentation task.\n\n## Structure\n```\nconductor/\n├── marketplace.json\n└── plugins/\n    └── orchestration/\n        ├── .claude-plugin/plugin.json\n        ├── agents/\n        │   └── conductor.md             # Workflow orchestrator\n        └── skills/\n            ├── plan/SKILL.md            # user-invocable: true\n            ├── work/SKILL.md            # user-invocable: true\n            ├── wave-done/SKILL.md       # user-invocable: false (internal)\n            ├── worker-done/SKILL.md     # user-invocable: false (internal)\n            └── complete/SKILL.md        # user-invocable: true\n```\n\n## Key Changes from Current\n\n1. **Remove spawning details** - Use `/tabz:spawn-terminal` instead\n2. **Remove browser automation** - Use `/tabz:*` skills instead\n3. **Workflow logic only** - Plan, orchestrate, monitor, complete\n4. **Use user-invocable: false** - For internal pipeline skills\n\n## Agent: conductor\n\nKnows:\n- Beads workflow (bd ready, bd close, etc.)\n- Wave planning and parallelization\n- When to invoke tabz skills for spawning\n- Completion pipelines (worker vs standalone)\n\nDoes NOT know:\n- TabzChrome API details (delegated to tabz)\n- Browser automation details (delegated to tabz)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T18:23:33.055493937-05:00","created_by":"marci","updated_at":"2026-01-10T18:17:18.838922515-05:00","closed_at":"2026-01-10T18:17:18.838922515-05:00","close_reason":"Obsolete - conductor plugin already exists in TabzBeads (migrated from my-plugins)","dependencies":[{"issue_id":"TabzBeads-cta","depends_on_id":"TabzBeads-mft","type":"blocks","created_at":"2026-01-09T18:23:39.504602387-05:00","created_by":"marci"},{"issue_id":"TabzBeads-cta","depends_on_id":"TabzBeads-1wl","type":"blocks","created_at":"2026-01-09T18:23:39.613496712-05:00","created_by":"marci"},{"issue_id":"TabzBeads-cta","depends_on_id":"TabzBeads-5mr","type":"blocks","created_at":"2026-01-09T18:26:48.990040476-05:00","created_by":"marci"},{"issue_id":"TabzBeads-cta","depends_on_id":"TabzBeads-gok","type":"blocks","created_at":"2026-01-10T03:34:07.866272769-05:00","created_by":"marci"}]}
{"id":"TabzBeads-czz","title":"Replace --auto flag in bd-swarm with multi-select","description":"Update bd-swarm.md to use interactive prompts instead of --auto flag\n\n**Changes:**\n1. Remove --auto flag documentation\n2. Add prompt logic: If mode not specified, ask user:\n   - Interactive mode (default) - spawn workers, monitor progress\n   - Autonomous mode - delegate to bdc-swarm-auto skill\n3. Update usage examples","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:03:29.471718861-05:00","updated_at":"2026-01-11T18:38:53.183292943-05:00","closed_at":"2026-01-11T18:38:53.183292943-05:00","close_reason":"Replaced --auto flag with AskUserQuestion multi-select prompt","labels":["conductor","flag-to-prompt"]}
{"id":"TabzBeads-dd5","title":"Conductor plugin: reorganize commands vs skills","description":"Reorganize conductor plugin to align with the prefix taxonomy:\n\n**Goal:**\n- bd-* = User entry points (commands)\n- bdc-*/bdw-* = Internal (skills with user-invocable: false)\n\n**Key changes:**\n1. Convert bd-conduct and bd-new-project skills → commands\n2. Convert bdc-*/bdw-* commands → skills\n3. Replace --flag options with multi-select prompts","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-11T16:02:45.906788442-05:00","updated_at":"2026-01-11T18:51:16.598150167-05:00","closed_at":"2026-01-11T18:51:16.598150167-05:00","close_reason":"Conductor plugin reorganization complete - commands/skills restructured, docs updated","labels":["conductor","refactor"],"dependencies":[{"issue_id":"TabzBeads-dd5","depends_on_id":"TabzBeads-1fm","type":"blocks","created_at":"2026-01-11T18:27:49.764998497-05:00","created_by":"marci"}]}
{"id":"TabzBeads-dsy","title":"Create code-reviewer plugin with review agents","description":"Move code review agents to their own plugin:\n- code-reviewer.md (autonomous code review)\n- silent-failure-hunter.md (error handling specialist)\n- Related skills (code-review command)\n\nAllows users to disable if using external review tools.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T18:07:15.427235811-05:00","created_by":"marci","updated_at":"2026-01-09T18:26:27.228453146-05:00","closed_at":"2026-01-09T18:26:27.228453146-05:00","close_reason":"Superseded by new structure - one marketplace with multiple plugins (see TabzBeads-mft)"}
{"id":"TabzBeads-eky","title":"Create docs plugin with docs-updater agent","description":"Move documentation automation to its own plugin:\n- docs-updater.md (updates docs after features)\n- update-docs command\n\nAllows users to disable if managing docs manually.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T18:07:21.763476077-05:00","created_by":"marci","updated_at":"2026-01-09T18:26:27.244495545-05:00","closed_at":"2026-01-09T18:26:27.244495545-05:00","close_reason":"Superseded by new structure - one marketplace with multiple plugins (see TabzBeads-mft)"}
{"id":"TabzBeads-f0d","title":"Update PRIME.md with unified command documentation","description":"Replace bd-work/bd-swarm/bd-swarm-auto references with /conductor:work. Add molecule and agent bead patterns.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T17:24:34.780410077-05:00","created_by":"marci","updated_at":"2026-01-09T18:50:22.785287349-05:00","closed_at":"2026-01-09T18:50:22.785287349-05:00","close_reason":"docs: update PRIME template with unified conductor commands"}
{"id":"TabzBeads-gmj","title":"Fix bd-status command to use working queries","description":"The bd-status command has broken queries:\n\n## Issues\n\n1. `bd count --status open` doesn't exist\n2. Recently closed query syntax wrong\n\n## Working Version\n\n```bash\necho \"  Open: $(bd list --status=open --json | jq 'length')\"\necho \"  In Progress: $(bd list --status=in_progress --json | jq 'length')\"\necho \"  Closed: $(bd list --status=closed --json | jq 'length')\"\n\n# Recently closed\nbd list --status=closed --json | jq -r '.[] | \"\\(.id): \\(.title)\"' | tail -5\n```\n\n## File to Update\n\n`plugins/conductor/commands/bd-status.md`","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-09T18:36:36.896608609-05:00","created_by":"marci","updated_at":"2026-01-09T18:50:50.121203528-05:00","closed_at":"2026-01-09T18:50:50.121203528-05:00","close_reason":"fix(conductor): update bd-status to use working beads queries"}
{"id":"TabzBeads-gok","title":"Document user-invocable frontmatter pattern for skills","description":"# Document user-invocable Frontmatter Pattern for Skills\n\n## Deliverable\n\nAdd 'Skill Visibility' section to docs/conductor-workflows.md documenting:\n- `user-invocable: false` frontmatter option\n- bd:/conductor:/worker: three-tier taxonomy\n- Decision framework for categorizing skills\n\n## Pattern\n\n```yaml\n---\nname: internal-skill\ndescription: Used by pipelines\nuser-invocable: false\n---\n```\n\n## Classification\n\n| Prefix | Purpose | User-Invocable |\n|--------|---------|----------------|\n| bd: | Human entry points | ✅ Yes |\n| conductor: | Orchestration steps | ❌ No |\n| worker: | Execution steps | ❌ No |\n\n## Status\n\n✅ Documentation added to docs/conductor-workflows.md:\n- Skill Visibility \u0026 Taxonomy section\n- Three-tier taxonomy tables\n- Decision framework\n- Known Issues section noting broken skill structures\n\n## Related Issues (split from original scope)\n- TabzBeads-mzz: Fix double-nested skill structures\n- TabzBeads-yy6: Consolidate into bd:/conductor:/worker: taxonomy","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T03:33:16.052494512-05:00","created_by":"marci","updated_at":"2026-01-10T14:49:40.871362655-05:00","closed_at":"2026-01-10T14:49:40.871362655-05:00","close_reason":"Documented user-invocable: false pattern and bd:/conductor:/worker: taxonomy in docs/conductor-workflows.md. Split remaining work into TabzBeads-mzz (fix broken structures) and TabzBeads-880 (sync TabzChrome skills)."}
{"id":"TabzBeads-h6o","title":"Create install.sh script for plugin installation","description":"Script to copy plugins to ~/.claude/plugins/ and optionally link PRIME.md to projects.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T17:24:34.887022489-05:00","created_by":"marci","updated_at":"2026-01-09T18:51:04.860583431-05:00","closed_at":"2026-01-09T18:51:04.860583431-05:00","close_reason":"feat: add install.sh script for plugin installation"}
{"id":"TabzBeads-hrw","title":"Add basic visual QA checks to wave-done","description":"## Problem\nWhen running autonomous swarm-auto to build sites/features, browser errors compound silently. By the time all waves complete, debugging is a nightmare.\n\n## Solution\nAdd simple sanity checks after each wave merge in bdc-wave-done:\n\n### Minimum Checks (fast, non-blocking by default)\n1. **Console errors** - `tabz_get_console_logs` level=error\n2. **React error boundaries** - Check DOM for error states\n3. **Page loads** - Verify key routes return 200\n\n### Implementation\n```bash\n# After Step 5 (build verification), before Step 6 (review)\nif has_ui_changes; then\n  # Quick MCP checks (fast path)\n  ERRORS=$(mcp-cli call tabz/tabz_get_console_logs '{\"level\": \"error\"}')\n  if [ -n \"$ERRORS\" ]; then\n    echo \"WARNING: Browser console errors detected\"\n    echo \"$ERRORS\"\n    # Create issue or pause for review\n  fi\nfi\n```\n\n### Options\n- `--visual-qa=quick` - Console + error boundary check (default for UI waves)\n- `--visual-qa=full` - Spawn tabz:tabz-manager for interactive review\n- `--visual-qa=skip` - Skip entirely\n\n## Benefits\n- Catch compounding errors early\n- Reduce end-of-project debugging\n- Simple checks, minimal overhead","notes":"conductor_session: ctt-conductor-75391806\nworker_session: ctt-tabzbeads-hrw-worker-aeedd4f6\nstarted_at: 2026-01-10T23:32:44-05:00\nprepared.skills: conductor:tabz-mcp,conductor:orchestration\nprepared.files: plugins/conductor/commands/bdc-wave-done.md,plugins/conductor/skills/wave-done/SKILL.md","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T21:34:22.016048646-05:00","created_by":"marci","updated_at":"2026-01-10T23:37:38.63222003-05:00","closed_at":"2026-01-10T23:37:38.63222003-05:00","close_reason":"Implemented visual QA checks with --visual-qa flag (quick/full/skip modes)"}
{"id":"TabzBeads-ixa","title":"Add note to worker-done: avoid # prefix in completion messages","description":"Worker TabzBeads-7a2 used # prefix in WORKER COMPLETE message which caused a newline instead of submission. Add a note to worker-done skill instructions to avoid # or other special characters at the start of the notification message.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-09T18:46:55.661461438-05:00","created_by":"marci","updated_at":"2026-01-09T18:57:09.477347448-05:00","closed_at":"2026-01-09T18:57:09.477347448-05:00","close_reason":"docs(worker-done): add warning about shell special chars in notifications"}
{"id":"TabzBeads-jq8","title":"Convert bdw-* commands to skills (8 files)","description":"Convert all bdw-* commands to skills with user-invocable: false\n\n**Files to convert:**\n- bdw-verify-build.md\n- bdw-run-tests.md\n- bdw-commit-changes.md\n- bdw-close-issue.md\n- bdw-create-followups.md\n- bdw-update-docs.md\n- bdw-worker-init.md\n- bdw-codex-review.md\n\n**For each file:**\n1. Create skills/bdw-\u003cname\u003e/ directory\n2. Move and rename to SKILL.md\n3. Add frontmatter: user-invocable: false\n4. Update plugin.json skills array","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:03:26.044106646-05:00","updated_at":"2026-01-11T18:41:10.968736817-05:00","closed_at":"2026-01-11T18:41:10.968736817-05:00","close_reason":"Converted 8 bdw-* commands to skills with user-invocable: false. Commit 67ee9c2","labels":["command-to-skill","conductor"]}
{"id":"TabzBeads-ll6","title":"Convert bdc-analyze-transcripts command to skill","description":"Move commands/bdc-analyze-transcripts.md to skills/bdc-analyze-transcripts/SKILL.md\n\n**Steps:**\n1. Create skills/bdc-analyze-transcripts/ directory\n2. Move and rename .md file to SKILL.md\n3. Update frontmatter: add user-invocable: false\n4. Remove --recent flag, convert to prompt parameter\n5. Update plugin.json skills array","notes":"completed_at: 2026-01-11T18:38:28-05:00\ncommit: da90f53","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:03:19.112502434-05:00","updated_at":"2026-01-11T18:38:33.124503864-05:00","closed_at":"2026-01-11T18:38:33.124503864-05:00","close_reason":"Converted bdc-analyze-transcripts from command to skill with user-invocable: false","labels":["command-to-skill","conductor"]}
{"id":"TabzBeads-mft","title":"Restructure plugins into my-plugins category marketplaces","description":"# Plugin Marketplace Restructuring (LOCAL)\n\nNow working with local copy at `./my-plugins/` instead of `~/plugins/my-plugins`.\n\n## Current Structure (copied)\n```\nmy-plugins/\n├── .claude-plugin/\n│   └── marketplace.json              # Already has plugin listings\n└── plugins/\n    ├── backend/\n    ├── docs/\n    ├── frontend/\n    ├── meta/\n    ├── specialized/\n    ├── terminal/\n    ├── tools/\n    └── visual/\n```\n\n## Changes Needed\n\n1. **Add conductor plugin** to my-plugins/plugins/ (extract from this repo)\n2. **Add code-review plugin** (TabzBeads-zlv)\n3. **Update marketplace.json** to include new plugins\n4. **Keep tabz skills in TabzChrome** - spawning/browser stay there\n\n## Files\n- my-plugins/.claude-plugin/marketplace.json (update)\n- my-plugins/plugins/conductor/ (create from plugins/conductor/)\n\n## Key Principle\nConductor = WHAT workflow to run (uses tabz skills)\nTabz = HOW to spawn/interact (stays in TabzChrome)","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-09T18:23:12.015979889-05:00","created_by":"marci","updated_at":"2026-01-09T19:13:29.881646506-05:00","closed_at":"2026-01-09T19:13:29.881646506-05:00","close_reason":"feat(my-plugins): add conductor plugin to meta category"}
{"id":"TabzBeads-mzz","title":"Fix double-nested skill structures across all categories","description":"# Fix Broken Skill Directory Structure\n\n## Problem\n\nSkills have incorrect double-nested structure that prevents discovery:\n```\nWRONG:  plugins/category/skills/name/skills/name/SKILL.md\nRIGHT:  plugins/category/skills/name/SKILL.md\n```\n\n## Affected Categories\n\nCount broken skills in each:\n- plugins/frontend/skills/* (5 skills)\n- plugins/backend/skills/* (5 skills)\n- plugins/tools/skills/* (8 skills)\n- plugins/specialized/skills/* (6 skills)\n- plugins/visual/skills/* (3 skills)\n- plugins/meta/skills/* (8 skills)\n- plugins/docs/skills/* (1 skill)\n\n**Total: ~36 skills to fix**\n\n## Fix Process\n\nFor each broken skill:\n1. Move SKILL.md from `skills/name/skills/name/SKILL.md` to `skills/name/SKILL.md`\n2. Move any resources/ or references/ folders up one level\n3. Remove the extra nested `skills/` directory\n4. Remove redundant inner plugin.json (parent plugin.json is sufficient)\n5. Test that skill appears in slash command menu\n\n## Example Fix\n\n```bash\n# Before\nplugins/frontend/skills/frontend-development/\n├── plugin.json\n└── skills/\n    └── frontend-development/\n        ├── SKILL.md\n        └── resources/\n\n# After\nplugins/frontend/skills/frontend-development/\n├── SKILL.md\n└── references/  # renamed from resources/\n```\n\n## Verification\n\nAfter fix:\n```bash\n# Skills should show up when running Claude Code\n# Check /context to see if skills are loaded\n```\n\n## Related\n- TabzBeads-gok: Documentation of user-invocable pattern (completed)\n- TabzBeads-yy6: Taxonomy consolidation (depends on this)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T14:48:22.666712855-05:00","created_by":"marci","updated_at":"2026-01-10T15:47:10.983479133-05:00","closed_at":"2026-01-10T15:47:10.983479133-05:00","close_reason":"Fixed 34 broken skill structures:\n- 24 simple double-nested skills flattened (frontend, backend, tools, specialized, visual, meta)\n- 10 triple-nested sub-skills moved up (debugging: 4, problem-solving: 6)\n\nRemaining 15 nested skills are VALID structure (code-review, debugging, problem-solving sub-skills).\n\nNote: Redundant plugin.json files inside skill folders remain but don't affect discovery."}
{"id":"TabzBeads-n5i","title":"Convert bd-conduct skill to command","description":"Move skills/bd-conduct/ to commands/bd-conduct.md\n\n**Steps:**\n1. Read skills/bd-conduct/SKILL.md\n2. Convert to command format (single .md file)\n3. Update frontmatter for command format\n4. Delete skills/bd-conduct/ directory\n5. Update plugin.json if needed","notes":"completed_at: 2026-01-11T18:38:26-05:00\ncommit: 927e86d\ncomplexity: simple\nchange_type: docs_only","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:03:12.098601925-05:00","updated_at":"2026-01-11T18:38:27.733243107-05:00","closed_at":"2026-01-11T18:38:27.733243107-05:00","close_reason":"Converted bd-conduct skill to command format","labels":["conductor","skill-to-command"]}
{"id":"TabzBeads-ng1","title":"Unified Conductor Workflow v2","description":"# Unified Conductor Workflow v2\n\nPhase 1 consolidation: merge bd-work, bd-swarm, bd-swarm-auto into unified commands with interactive prompts and guardrails.\n\nSee: docs/conductor-workflows.md section \"PROPOSED: Unified Interactive Architecture\" for full details.\n\n## Design Decisions\n\n### 1. Two Commands (refine + work)\n\nReplace 4 entry points with 2 interactive commands:\n\n```\n/conductor:refine   →  Prepare issues (research phase, cheap Haiku via pmux)\n/conductor:work     →  Execute issues (implementation phase, Opus workers)\n```\n\n### 2. /conductor:work AskUserQuestion Flow\n\n```\n/conductor:work\n  Q1: \"Here are the unblocked issues:\" [multiSelect]\n      → Select 1 = single worker mode (no worktree)\n      → Select N = parallel workers mode (with worktrees)\n  \n  Q2: \"How should this run?\" [if N \u003e 1]\n      → Interactive = monitor, questions ok\n      → Autonomous = waves until backlog empty\n  \n  Q3: \"Worker count?\" [if interactive + many issues]\n      → 2, 3, 4, or \"All ready issues\"\n```\n\n### 3. /conductor:complete with Auto-Detection\n\nAdd guardrails to prevent workers from pushing/reviewing (conductor's job):\n\n```\n/conductor:complete \u003cissue-id\u003e\n  Step 0: AUTO-DETECT MODE\n    - CONDUCTOR_SESSION env var present → WORKER\n    - Inside git worktree → WORKER\n    - Otherwise → STANDALONE\n  \n  WORKER MODE:\n    verify → tests → commit → close → notify\n    ⚠️ DO NOT PUSH (conductor handles merge/review)\n  \n  STANDALONE MODE:\n    verify → tests → code-review → commit → close → push prompt\n```\n\nDetection logic:\n```bash\nis_worker_mode() {\n  [ -n \"$CONDUCTOR_SESSION\" ] \u0026\u0026 return 0  # Env var set by conductor\n  COMMON_DIR=$(git rev-parse --git-common-dir 2\u003e/dev/null)\n  GIT_DIR=$(git rev-parse --git-dir 2\u003e/dev/null)\n  [ \"$COMMON_DIR\" != \"$GIT_DIR\" ] \u0026\u0026 return 0  # Inside worktree\n  return 1\n}\n```\n\n### 4. Deprecation Strategy\n\n- `bd-work` → alias to `/conductor:work` + deprecation notice\n- `bd-swarm` → alias to `/conductor:work` + deprecation notice  \n- `bd-swarm-auto` → removed (use work with \"Autonomous\" selection)\n\n## Blocked Issues\n\nThis epic blocks:\n- TabzBeads-y4c: Implement /conductor:work skill\n- TabzBeads-6jp: Implement /conductor:complete guardrails\n\n## Acceptance Criteria\n\n- [x] Design unified /conductor:work flow\n- [x] Design auto-detection for worker vs standalone mode\n- [x] Define deprecation strategy for old commands\n- [ ] y4c implements /conductor:work\n- [ ] 6jp implements /conductor:complete with guardrails","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-09T17:24:04.927028779-05:00","created_by":"marci","updated_at":"2026-01-09T17:58:04.879881982-05:00","closed_at":"2026-01-09T17:58:04.879881982-05:00","close_reason":"Design complete. See issue description for unified workflow v2 design. Unblocks y4c and 6jp for implementation."}
{"id":"TabzBeads-no0","title":"Convert bd-new-project skill to command","description":"Move skills/bd-new-project/ to commands/bd-new-project.md\n\n**Steps:**\n1. Read skills/bd-new-project/SKILL.md\n2. Convert to command format (single .md file)\n3. Update frontmatter for command format\n4. Delete skills/bd-new-project/ directory\n5. Update plugin.json if needed","notes":"completed_at: 2026-01-11T18:39:36-05:00\ncommit: 3a9b9c8","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T16:03:15.629091163-05:00","updated_at":"2026-01-11T18:39:45.055546095-05:00","closed_at":"2026-01-11T18:39:45.055546095-05:00","close_reason":"Converted skill to command - skill file moved from skills/bd-new-project/SKILL.md to commands/bd-new-project.md with adjusted frontmatter","labels":["conductor","skill-to-command"]}
{"id":"TabzBeads-r6m","title":"Conductor context management and skill forking improvements","description":"## Summary\nImprovements to conductor workflow for context management and leveraging skill forking.\n\n## Key Findings from Session\n\n### 1. Context Check in wave-done (Step 10)\n- Added Step 10 to bdc-wave-done.md that checks context % via tmux capture-pane\n- Thresholds: \u003c50% OK, 50-74% warning, ≥75% critical\n- File already updated: plugins/conductor/commands/bdc-wave-done.md\n\n### 2. Conductor Refresh via Spawn-and-Handoff\nInstead of `/clear` (which preserves agent context but requires manual `bd prime`), spawn a fresh conductor:\n\n```bash\n# At end of wave-done when context ≥75%:\n# 1. Generate handoff summary\n# 2. Spawn new: claude --agent conductor:conductor --dangerously-skip-permissions\n# 3. Send handoff to new session\n# 4. Kill old session\n```\n\nBenefits:\n- Fresh context (0%)\n- SessionStart hook fires → bd prime auto-runs\n- --agent flag preserved\n- CLAUDE.md injected\n- Clean wave boundary = clean session alignment (no CONDUCTOR_SESSION mismatch)\n\n### 3. Skills with context: fork (Claude Code 2.1.0+)\nFrom release notes:\n- `context: fork` in skill frontmatter runs skill in forked sub-agent\n- `agent` field specifies agent type for execution\n- Claude can intelligently choose to fork even without explicit declaration\n- Forked skills have full Task tool access for subagents\n\nThis means conductor skills can leverage subagents even when parent was launched with --agent flag.\n\n### 4. bd-plan keyword phrases (already updated)\n- Updated plugins/conductor/commands/bd-plan.md\n- match-skills.sh now outputs keyword phrases instead of /plugin:skill commands\n- Keyword phrases help skill-eval hook identify relevant skills naturally\n\n## Tasks\n- [ ] Implement spawn-and-handoff in wave-done Step 10 (currently just warns)\n- [ ] Test context: fork on heavy conductor skills (code-review, wave-done)\n- [ ] Document the SessionStart hook requirement for bd prime\n- [ ] Consider adding context: fork to skills that benefit from subagents\n\n## Related Files\n- plugins/conductor/commands/bdc-wave-done.md (Step 10 added)\n- plugins/conductor/commands/bd-plan.md (keyword phrases updated)\n- plugins/conductor/scripts/match-skills.sh (keyword output)\n- plugins/conductor/agents/conductor.md","notes":"completed_at: 2026-01-11T11:50:07-05:00\ncommit: 752a146\ncomplexity: complex\nfiles_changed: 28\nloc_changed: 3014","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T02:55:22.994395564-05:00","created_by":"marci","updated_at":"2026-01-11T11:50:09.165992202-05:00","closed_at":"2026-01-11T11:50:09.165992202-05:00","close_reason":"Consolidated duplicate commands/skills with prefix naming convention"}
{"id":"TabzBeads-tt5","title":"Parallel lookahead enhancer during swarm execution","description":"## Problem\nCurrently bd-plan 'Enhance Prompts' runs as a separate pre-work step. This blocks swarm execution while prompts are being prepared.\n\n## Solution\nSpawn an enhancer session (Haiku) that runs in parallel with wave execution:\n\n```\nWave 1 executing ──────────────►  Wave 2 executing\n     │ (parallel)                       │\n     ▼                                  ▼\n  ENHANCER                           ENHANCER\n  Preparing                          Preparing\n  Wave 2...                          Wave 3...\n```\n\n## Implementation\n1. At swarm start, spawn enhancer terminal with Haiku model\n2. Enhancer loops through ready issues, preparing prompts using existing scripts:\n   - `scripts/match-skills.sh --verify` for skill matching\n   - `scripts/match-skills.sh --persist` to store in notes\n   - `scripts/discover-skills.sh` for keyword-based discovery\n3. Uses 'enhancing: true' flag in notes to prevent races\n4. Conductor checks for prepared.prompt before dynamic crafting\n5. If still enhancing, wait briefly or skip to next\n\n## Existing Scripts to Use\n- `plugins/conductor/scripts/match-skills.sh` - Single source of truth for skill matching\n  - `--verify` - Match AND verify skills exist\n  - `--issue ID` - Get skills from beads issue\n  - `--persist ID SKILLS` - Store in notes (prepared.skills format)\n  - `--available-full` - List all skills with descriptions\n- `plugins/conductor/scripts/discover-skills.sh` - Find skills by keyword search\n- `plugins/conductor/agents/prompt-enhancer.md` - Haiku agent for prompt creation\n\n## Benefits\n- No blocking preparation phase\n- Better prompts (more time to analyze)\n- Cheaper (Haiku does prep, Opus executes)\n- Stays 1-2 waves ahead automatically\n- Reuses existing infrastructure\n\n## Related\n- prompt-enhancer.md agent (run in parallel session)\n- bd-plan 'Enhance Prompts' (current sequential approach)\n- TabzBeads-32q (post-work complexity)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T20:03:28.973258821-05:00","created_by":"marci","updated_at":"2026-01-10T20:37:29.650064439-05:00","closed_at":"2026-01-10T20:37:29.650064439-05:00","close_reason":"Implemented parallel lookahead enhancer - script, swarm integration, and documentation complete"}
{"id":"TabzBeads-u7c","title":"Create conductor workflow proto (mol-conductor-wave)","description":"Define reusable molecule template for conductor waves. Epic with template label containing: setup worktrees → spawn workers → monitor → merge → review → cleanup → push.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-09T17:24:16.685136947-05:00","created_by":"marci","updated_at":"2026-01-10T20:52:50.661938385-05:00","closed_at":"2026-01-10T20:52:50.661938385-05:00","close_reason":"Created conductor-wave formula template with 17 steps and bdc-run-wave command","dependencies":[{"issue_id":"TabzBeads-u7c","depends_on_id":"TabzBeads-ulz","type":"blocks","created_at":"2026-01-09T17:24:17.099027678-05:00","created_by":"marci"}]}
{"id":"TabzBeads-ulz","title":"Replace custom monitoring with bd agent list","description":"# Replace Custom Monitoring with bd agent list\n\nRemove custom monitor-workers.sh polling in favor of beads native agent tracking.\n\n## Beads Agent Query API\n\n```bash\n# List all agent beads\nbd list --type=agent\n\n# List running agents (using label filter)\nbd list --type=agent --label=\"state:running\"\n\n# Watch agents in real-time\nbd list --type=agent --watch\n\n# Show specific agent with state\nbd agent show \u003cagent-id\u003e\n\n# Show what agent is working on\nbd slot show \u003cagent-id\u003e\n```\n\n## Replacement Strategy\n\n**Current** (monitor-workers.sh):\n- Polls tmux sessions with capture-pane\n- Parses Claude output for status\n- Manual, resource-intensive\n\n**New** (beads native):\n- Query `bd list --type=agent --label=\"conductor:worker\"`\n- Agent beads have state (running, done, stuck)\n- Heartbeats enable automatic dead detection\n- Built into beads, no custom scripts\n\n## Files to Update\n\n- Remove: plugins/conductor/scripts/monitor-workers.sh\n- Update: plugins/conductor/skills/bd-swarm-auto/SKILL.md - Use bd list for monitoring\n- Update: plugins/conductor/agents/conductor.md - Document new monitoring approach","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T17:24:16.576906306-05:00","created_by":"marci","updated_at":"2026-01-09T19:12:43.573200983-05:00","closed_at":"2026-01-09T19:12:43.573200983-05:00","close_reason":"Replaced custom monitor-workers.sh with native beads agent tracking (bd list --type=agent, bd agent show)","dependencies":[{"issue_id":"TabzBeads-ulz","depends_on_id":"TabzBeads-8xn","type":"blocks","created_at":"2026-01-09T17:24:16.988997858-05:00","created_by":"marci"}]}
{"id":"TabzBeads-xb3","title":"Update bd-swarm/bd-swarm-auto to use prepared prompts with Haiku fallback","description":"When spawning workers, check for `prepared.prompt` in issue notes:\n\n## Happy Path (prompt exists)\n```\nbd show \u003cid\u003e --json | jq -r '.[0].notes'\n→ Has prepared.prompt? Use it directly, skip exploration\n```\n\n## Fallback Path (no prepared prompt)\nIf `prepared.prompt` not found:\n1. Spawn Haiku agent in forked session (cheap exploration)\n2. Agent runs skill to craft prompt:\n   - Match skills (`match-skills.sh --verify`)\n   - Find key files (Task(Explore) with haiku)\n   - Store result in `prepared.prompt`\n3. Then spawn the actual worker with the crafted prompt\n\n## Implementation\n```bash\n# Check for prepared prompt\nNOTES=$(bd show \"$ISSUE_ID\" --json | jq -r '.[0].notes // \"\"')\nPREPARED_PROMPT=$(echo \"$NOTES\" | grep -A1000 'prepared.prompt:' | sed '1d')\n\nif [ -n \"$PREPARED_PROMPT\" ]; then\n  # Use prepared prompt directly\n  WORKER_PROMPT=\"$PREPARED_PROMPT\"\nelse\n  # Spawn Haiku to craft prompt first\n  Task(\n    subagent_type=\"prompt-enhancer\",\n    model=\"haiku\",\n    prompt=\"Craft a worker prompt for issue $ISSUE_ID...\"\n  )\n  # Then read the newly stored prepared.prompt\nfi\n```\n\n## Benefits\n- Pre-planned work: instant worker spawn (no exploration delay)\n- Unplanned work: still works, just uses cheap Haiku first\n- Conductor stays simple - just reads prompts and spawns\n\n## Applies To\n- `/conductor:bd-work`\n- `/conductor:bd-swarm`\n- `/conductor:bd-swarm-auto`","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T17:24:26.455617227-05:00","created_by":"marci","updated_at":"2026-01-10T03:52:12.420432732-05:00","closed_at":"2026-01-10T03:52:12.420432732-05:00","close_reason":"Superseded by TabzBeads-32q (complexity-aware pipeline). Current conductor already sends accurate skill-aware prompts - don't need prepared prompts optimization.","dependencies":[{"issue_id":"TabzBeads-xb3","depends_on_id":"TabzBeads-clp","type":"blocks","created_at":"2026-01-09T17:24:26.767387732-05:00","created_by":"marci"}]}
{"id":"TabzBeads-y4c","title":"Create /conductor:bd-work skill (standard single-session workflow)","description":"# bd-work - Standard Single-Session Workflow\n\nYOU do the work. No spawning, no orchestration.\n\n## Flow\n\n```\n/conductor:bd-work [issue-id]\n  │\n  ├── If no ID: AskUserQuestion \"Here are the unblocked issues:\"\n  ├── Claim issue: bd update \u003cid\u003e --status=in_progress\n  ├── Follow PRIME.md workflow\n  │   ├── Implement the fix/feature\n  │   ├── verify-build\n  │   ├── run-tests\n  │   ├── code-review (you decide)\n  │   ├── commit-changes\n  │   └── close-issue\n  └── Push: bd sync \u0026\u0026 git push\n```\n\n## Key Points\n\n- **No spawning** - You ARE the worker\n- **Standard beads flow** - Follow PRIME.md\n- **Full control** - You decide on review, tests, etc.\n- **Single session** - No conductor, no workers\n\n## When to Use\n\n- Working on one issue at a time\n- Don't need parallel workers\n- Want full control over the workflow","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-09T17:24:05.037453192-05:00","created_by":"marci","updated_at":"2026-01-09T18:45:03.837440087-05:00","closed_at":"2026-01-09T18:45:03.837440087-05:00","close_reason":"Created /conductor:work skill with single-session workflow","dependencies":[{"issue_id":"TabzBeads-y4c","depends_on_id":"TabzBeads-ng1","type":"blocks","created_at":"2026-01-09T17:24:05.382680528-05:00","created_by":"marci"}]}
{"id":"TabzBeads-yy6","title":"Consolidate conductor/beads skills into bd:/conductor:/worker: taxonomy","description":"# Problem\n\nToo many overlapping entry points with slight variations:\n- bd-work, bd-swarm, bd-swarm-auto, bd-conduct, work, worker-done...\n- Beads skills duplicate CLI/MCP functionality\n- Unclear which commands are user-invocable vs internal pipeline steps\n\n# Solution: Three-Tier Taxonomy\n\n## User Entry Points (bd:) - 4 commands\n\n| Command | Purpose | Multi-select options |\n|---------|---------|---------------------|\n| `bd:status` | View state | open, blocked, ready, in-progress |\n| `bd:plan` | Prepare backlog | refine/enhance prompts/match skills |\n| `bd:work` | Single-session execution | which issue, what steps |\n| `bd:conduct` | Multi-session orchestration | which issues, worker count, mode |\n\nAll use AskUserQuestion for interactive configuration instead of flags/variants.\n\n## Conductor Steps (conductor:) - internal\n\nOrchestration logic called by bd:conduct:\n- spawn-workers\n- monitor-wave  \n- wave-done\n- merge-branches\n- unified-review\n\nMark with `user-invocable: false` in frontmatter.\n\n## Worker Steps (worker:) - internal\n\nExecution steps for individual workers:\n- verify-build\n- run-tests\n- code-review\n- commit-changes\n- close-issue\n- notify-conductor\n\nMark with `user-invocable: false` in frontmatter.\n\n# Decision Framework\n\n| If the step... | It belongs in... |\n|----------------|------------------|\n| Is a human choice/entry point | bd: |\n| Manages multiple workers/sessions | conductor: |\n| Is done by a single worker on one issue | worker: |\n\n# Migration Steps\n\n1. Document user-invocable: false pattern (TabzBeads-gok)\n2. Consolidate bd-work/bd-swarm/bd-swarm-auto → bd:work + bd:conduct\n3. Move atomic commands to worker: namespace\n4. Add user-invocable: false to conductor: and worker: skills\n5. Remove redundant beads skills that just wrap CLI/MCP\n6. Update CLAUDE.md and docs/conductor-workflows.md\n\n# Related\n\n- TabzBeads-gok: Document user-invocable frontmatter pattern\n- TabzBeads-cta: Create conductor plugin in my-plugins","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-10T14:25:04.942962134-05:00","created_by":"marci","updated_at":"2026-01-10T18:17:11.279443293-05:00","closed_at":"2026-01-10T18:17:11.279443293-05:00","close_reason":"Implemented prefix-based taxonomy (bd-, bdc-, bdw-) instead of user-invocable:false. All commands accessible during testing.","dependencies":[{"issue_id":"TabzBeads-yy6","depends_on_id":"TabzBeads-gok","type":"blocks","created_at":"2026-01-10T14:25:15.241345204-05:00","created_by":"marci"},{"issue_id":"TabzBeads-yy6","depends_on_id":"TabzBeads-mzz","type":"blocks","created_at":"2026-01-10T14:48:33.735975129-05:00","created_by":"marci"}]}
{"id":"TabzBeads-zky","title":"Create frontend plugin with progressive disclosure skills","description":"# Create Frontend Plugin (LOCAL)\n\nCreate at `./my-plugins/plugins/frontend/frontend-core/` (local copy).\n\nNOTE: frontend-development and ui-styling already exist! Check if we need a new plugin or just update existing ones.\n\n## Existing Plugins in my-plugins/plugins/frontend/\n- aesthetic/\n- frontend-design/\n- frontend-development/ (already has SKILL.md)\n- ui-styling/ (already has SKILL.md)\n- web-frameworks/\n\n## Decision\nReview existing plugins first. May just need:\n1. Update marketplace.json description\n2. Add progressive disclosure to existing agent (if any)\n\n## If New Plugin Needed\n```\nmy-plugins/plugins/frontend/frontend-core/\n├── plugin.json\n├── agents/\n│   └── frontend-expert.md       # Progressive disclosure agent\n└── skills/\n    ├── react/SKILL.md\n    └── accessibility/SKILL.md\n```","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T18:23:50.265973953-05:00","created_by":"marci","updated_at":"2026-01-09T19:17:26.107606911-05:00","closed_at":"2026-01-09T19:17:26.107606911-05:00","close_reason":"Created frontend-expert agent with progressive disclosure pattern. Agent knows general patterns and invokes specific skills (frontend-development, ui-styling, aesthetic, web-frameworks) as needed."}
{"id":"TabzBeads-zlv","title":"Create code-review plugin","description":"# Create Code Review Plugin (LOCAL)\n\nCreate at `./my-plugins/plugins/tools/code-review/` (local copy).\n\n## Structure\n```\nmy-plugins/plugins/tools/code-review/\n├── plugin.json\n├── agents/\n│   └── reviewer.md              # Code review expert\n└── skills/\n    ├── review/SKILL.md          # Standard code review\n    ├── silent-failures/SKILL.md # Error handling audit\n    └── security/SKILL.md        # Security-focused review\n```\n\n## Source Files (to migrate)\n- plugins/conductor/agents/code-reviewer.md\n- plugins/conductor/agents/silent-failure-hunter.md\n\n## Plugin.json Template\n```json\n{\n  \"name\": \"code-review\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Code review practices with confidence-based filtering\",\n  \"skills\": [\"skills/review\", \"skills/silent-failures\", \"skills/security\"],\n  \"agents\": [\"agents/reviewer.md\"]\n}\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T18:23:50.156509647-05:00","created_by":"marci","updated_at":"2026-01-09T19:15:54.163441646-05:00","closed_at":"2026-01-09T19:15:54.163441646-05:00","close_reason":"feat(code-review): create standalone code-review plugin with agents and skills - migrated from conductor"}
